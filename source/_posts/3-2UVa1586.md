---
title: 3_2UVa1586
date: 2016-12-21 00:11:06
tags:
---





# Molar Mass ACM/ICPC sroul 2007, UVa1586


```
#include <stdlib.h>
#include <stdio.h>
#include <strings.h>
#include <ctype.h>
/* 
 * ===  FUNCTION  ======================================================================
 *         Name:  get_g
 *  Description:  
 * =====================================================================================
 */
float get_g ( char a )
{
    switch(a){
        case 'C':
            return 12.01;
            break;
        case 'H':
            return 1.008;
            break;
        case 'O':
            return 16.00;
            break;
        case 'N':
            return 14.01;
            break;
        default:
            return -1.0;
    }
}		
/* 
 * ===  FUNCTION  ======================================================================
 *         Name:  main
 *  Description:  
 * =====================================================================================
 */
int main ( int argc, char *argv[] )
{
    char buf[101]={}; 
    float sum = 0.0;
    int i = 0 ;
    int j = 0;
    int count = 0;

    while( (scanf("%s", buf)!=EOF) ){
        for (i = 0; buf[i]!='\0'; i++) {
            count = 0;
            for( j=i+1;isdigit(buf[j])&&buf[j];j++ ){
                count = count * 10 + (buf[j]-'0');
                printf ( "count is %d\n",count );
            }
            if (count==0) {
                count=1;
                printf ( "count is %d\n",count );
            }
            sum += count * get_g(buf[i]);
            i=j-1;
        }
        printf ( "sum is %f\n",sum );
    }
    return EXIT_SUCCESS;
}				/* ----------  end of function main  ---------- */
```

